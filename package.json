{
    "name": "root",
    "private": true,
    "repository": {
        "type": "git",
        "url": "https://github.com/vivid-planet/comet"
    },
    "description": "Comet Monorepo",
    "license": "BSD-2-Clause",
    "scripts": {
        "create-site-configs-env": "pnpm exec comet inject-site-configs -f demo/site-configs/site-configs.ts -i demo/.env.site-configs.tpl -o demo/.env.site-configs --base64",
        "build:storybook": "pnpm --recursive --filter '@comet/*admin*' --filter '@comet/eslint-plugin' --filter '@comet/cli' run build && pnpm --filter comet-storybook run build-storybook",
        "build:packages": "pnpm --recursive --filter '@comet/*' run build",
        "build:docs": "pnpm build:storybook && pnpm --recursive --filter '@comet/eslint-plugin' --filter '@comet/admin*' --filter '!@comet/admin-generator' --filter 'comet-docs' run build",
        "clean": "pnpm --recursive run clean",
        "copy-project-files": "node copy-project-files.js",
        "dev": "pnpm dev:admin && pnpm dev:cms && pnpm dev:mail && pnpm dev:demo",
        "dev:admin": "dev-pm start @comet-admin",
        "dev:cms": "dev-pm start @cms",
        "dev:cms:admin": "dev-pm start @cms-admin",
        "dev:cms:api": "dev-pm start @cms-api",
        "dev:cms:site-nextjs": "dev-pm start @site-nextjs",
        "dev:cms:site-react": "dev-pm start @site-react",
        "dev:mail": "dev-pm start @mail",
        "dev:demo": "dev-pm start @demo",
        "dev:demo:admin": "dev-pm start @demo-admin",
        "dev:demo:api": "dev-pm start @demo-api",
        "dev:demo:site": "dev-pm start @demo-site",
        "dev:docs": "dev-pm start @docs",
        "dev:oauth2-proxy": "dotenv -- ./node_modules/.bin/oauth2-proxy",
        "dev:demo-api-mitmproxy": "dotenv -- sh -c './node_modules/.bin/mitmweb --mode reverse:http://localhost:$API_PORT --listen-port $API_MITMPROXY_PORT --web-host localhost --web-port $MITMPROXY_WEB_INTERFACE_PORT --no-web-open-browser --set web_password=$MITMPROXY_WEB_PASSWORD'",
        "dev:oidc-provider": "dotenv -- dev-oidc-provider",
        "intl:extract": "formatjs extract './packages/admin/**/*.{ts,tsx}' --out-file 'lang/en.json' --ignore './**.d.ts' --ignore './**.d.ts.map' --format simple --throws",
        "lint": "pnpm lint:root && pnpm --recursive run lint && pnpm lint:knip",
        "lint:ci": "pnpm lint:root && pnpm --recursive run lint:ci && pnpm lint:knip",
        "lint:root": "pnpm exec prettier --check './!(demo|docs|packages|storybook)/**/*.{js,json,md,yml,yaml}' && pnpm cspell .changeset/*.md",
        "lint:eslint": "pnpm --recursive run lint:eslint",
        "lint:tsc": "pnpm --recursive run lint:tsc",
        "lint:knip": "pnpm --recursive run api-generator && pnpm --recursive run gql:types && pnpm --recursive run build:preBuild && pnpm --recursive run build-server && knip --exports --files --dependencies --tags=-knipignore --no-gitignore --exclude enumMembers",
        "start-oidc-provider": "dotenv -- dev-oidc-provider",
        "storybook": "dev-pm start @storybook",
        "test": "pnpm --recursive run test",
        "prepare": "husky",
        "version": "pnpm changeset version && pnpm install --lockfile-only",
        "publish": "pnpm run build:packages && pnpm changeset publish",
        "browser:demo": "run-p browser:demo:api browser:demo:admin browser:demo:site browser:demo:jaeger",
        "browser:demo:api": "dotenv -- sh -c 'open-cli $API_URL/graphql'",
        "browser:demo:admin": "dotenv -- sh -c 'open-cli $ADMIN_URL'",
        "browser:demo:site": "dotenv -- sh -c 'open-cli $SITE_URL'",
        "browser:demo:jaeger": "dotenv -- sh -c 'open-cli http://localhost:$JAEGER_UI_PORT'",
        "setup:ci": "pnpm run copy-project-files",
        "setup:download-oauth2-proxy": "dotenv -- sh -c 'pnpm exec comet download-oauth2-proxy -v $OAUTH2_PROXY_VERSION'",
        "setup:download-mitmproxy": "pnpm exec comet download-mitmproxy -v ^12.2.0"
    },
    "devDependencies": {
        "@changesets/cli": "^2.29.8",
        "@comet/cli": "workspace:*",
        "@comet/dev-oidc-provider": "^1.2.0",
        "@comet/dev-process-manager": "^3.0.0",
        "@formatjs/cli": "^6.7.2",
        "@types/node": "^24.9.1",
        "cspell": "^9.0.0",
        "dotenv-cli": "^9.0.0",
        "husky": "^9.1.7",
        "knip": "^5.61.3",
        "lint-staged": "^16.2.7",
        "npm-run-all2": "^8.0.0",
        "open-cli": "^8.0.0",
        "prettier": "^3.6.2",
        "rimraf": "^6.1.2",
        "typescript": "5.9.3"
    },
    "packageManager": "pnpm@10.17.0",
    "engines": {
        "node": "24",
        "pnpm": "10.17.0"
    },
    "pnpm": {
        "overrides": {
            "@apollo/server-plugin-landing-page-graphql-playground>@apollo/server": "^5.1.0"
        }
    }
}
