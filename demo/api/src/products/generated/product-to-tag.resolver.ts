// This file has been generated by comet api-generator.
// You may choose to use this file as scaffold by moving this file out of generated folder and removing this comment.

import { RequiredPermission } from "@comet/cms-api";
import { Parent, ResolveField, Resolver } from "@nestjs/graphql";

import { Product } from "../entities/product.entity";
import { ProductTag } from "../entities/product-tag.entity";
import { ProductToTag } from "../entities/product-to-tag.entity";

@Resolver(() => ProductToTag)
@RequiredPermission(["products"], { skipScopeCheck: true })
export class ProductToTagResolver {
    @ResolveField(() => Product)
    async product(@Parent() productToTag: ProductToTag): Promise<Product> {
        return productToTag.product.load();
    }

    @ResolveField(() => ProductTag)
    async tag(@Parent() productToTag: ProductToTag): Promise<ProductTag> {
        return productToTag.tag.load();
    }
}
