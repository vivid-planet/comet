import { Canvas, Meta } from "@storybook/addon-docs/blocks";

import * as PaginationStories from "./04_Pagination.stories";

<Meta of={PaginationStories} />

**The `Table` component has been deprecated in favor of [MUI X Data Grid](https://mui.com/x/react-data-grid/) in combination with `useDataGridRemote`. View [docs](?path=/docs/docs-components-datagrid--docs).**

# Pagination

The `Table` has built-in support for pagination.
The typical procedure to use pagination is as follows:

1. get an instance of `pagingApi` from the `useTableQueryPaging()` hook
2. use the `useTableQuery()` hook to load your data
3. pass the pagination parameters to your query as variables
4. use one of Comet Admin's paging actions to generate a `pagingInfo` object inside `resolveTableData()`
5. pass `pagingInfo` to the `Table`

After performing the steps above, a `TableFooter` is automatically added to the `Table`. It allows the user to switch between pages.

Comet Admin supports multiple types of pagination:

- **(Recommended)** [Offset-based Pagination](https://betterprogramming.pub/building-apis-a-comparison-between-cursor-and-offset-pagination-88261e3885f8#1c1a) (`createOffsetLimitPagingAction()`)
- [Cursor-based Pagination](https://betterprogramming.pub/building-apis-a-comparison-between-cursor-and-offset-pagination-88261e3885f8#3cf7) (`createRelayPagingActions()`)
- Page-based Pagination (`createPagePagingActions()`)
- Offset-based Pagination for REST APIs (`createRestStartLimitPagingActions()`)
- Page-based Pagination for REST APIs (`createRestPagingActions()`)

<Canvas of={PaginationStories.PaginationTable} />
