import { Canvas, Meta, Source } from "@storybook/addon-docs/blocks";
import dedent from "ts-dedent";

import * as SnackbarStories from "./Snackbar.stories";

<Meta of={SnackbarStories} />

# Snackbar

> Snackbars inform users of a process that an app has performed or will perform. They appear temporarily, towards the bottom of the screen. They shouldn’t interrupt the user experience, and they don’t require user input to disappear.
>
> Snackbars contain a single line of text directly related to the operation performed. They may contain a text action, but no icons. You can use them to display notifications.

More Info: [Snackbar in Material UI Docs](https://mui.com/components/snackbars/)

## SnackbarProvider

The `SnackbarProvider` provides the `SnackbarContext` to its children.
It also takes care of rendering the `Snackbar` and should be placed at the topmost level of an app.
This ensures that there is only one snackbar at a time as recommended by the [Material UI Docs](https://mui.com/components/snackbars/).

<Source
    language="tsx"
    code={dedent`
    <SnackbarProvider>
        <p> Use Snackbar here </p>
    </SnackbarProvider>
  `}
/>

## useSnackbarApi()

The `useSnackbarApi()` hook provides an Api to interact with the snackbar.
It is only available if a `SnackbarProvider` is present higher up in the tree.

<Canvas of={SnackbarStories.UseSnackbarApi} />

### showSnackbar()

`showSnackbar()` displays a snackbar.
It renders a Material UI `Snackbar` that has to be passed as argument.
More info on the `Snackbar` and a list of available props can be found [in the Material UI Docs](https://mui.com/api/snackbar/).

Only `open` is not available since the `SnackbarProvider` manages the open state.

<Canvas of={SnackbarStories.ShowSnackbar} />

### hideSnackbar()

`hideSnackbar()` hides the currently visible snackbar.

<Canvas of={SnackbarStories.HideSnackbar} />

## UndoSnackbar

The `UndoSnackbar` is a convenience component since undo is a common use case for the snackbar.
It has three distinctions compared to the vanilla `Snackbar`:

- a non-removable undo button
- a `payload` prop. After a change, the previous state should be passed as payload
- a `onUndoClick` prop. This method is called once the user clicks on the undo button. The method receives the payload as parameter and can utilize it to restore the previous state

<Canvas of={SnackbarStories.Undo} />
