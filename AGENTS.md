# Agent Instructions

## Linting

- When making changes in a package, run `pnpm run lint:eslint --fix` in that package folder to autoformat with ESLint before finalizing changes.

## Demo application

- Start the full demo (admin, API, site):
  ```bash
  pnpm exec dev-pm start @demo
  ```
  or
  ```bash
  pnpm run dev:demo
  ```
- Start individual demo services:
  ```bash
  pnpm exec dev-pm start @demo-api @demo-admin @demo-site
  ```

## Rebuilding packages

- Build all Comet packages:
  ```bash
  pnpm run build:packages
  ```
- Build only the packages you changed (repeat the filter as needed):
  ```bash
  pnpm --recursive --filter '<package-name>' run build
  ```

## Changesets and changelog

- We use Changesets for tracking changes. Create a non-empty changeset file when making relevant user-facing/package changes (not for docs-only or internal-only updates).
- `CHANGELOG.md` is autogenerated; do not edit it manually.


## Commit messages

- Do not use Conventional Commits.
- If a change is scoped to one package, prefix the commit message with the affected package name.

## Generated demo files

- `demo/api` and `demo/admin` contain `generated/` folders. Do not edit files inside `generated/` directly; rerun `api-generator` or `admin-generator` to update them.
- After any changes to `api-generator` or `admin-generator` execute the generator in demo to update the generated files. Before running, build the package.
