import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import { SplitButton } from "@comet/admin";
import { Button, Typography } from "@material-ui/core";
import { Home } from "@comet/admin-icons";

# Components

<Meta title="Docs/@comet/admin/splitbutton" />

## Split Button

<Canvas>
    <Story name="uncontrolled Split Button">
        <SplitButton variant={"contained"} color={"primary"}>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
            <Button
                onClick={() => {
                    alert("secondary clicked");
                }}
            >
                Secondary Action
            </Button>
        </SplitButton>
    </Story>
</Canvas>

## Controlled Split Button

<Canvas>
    <Story name="Controlled Split Button">
        {() => {
            const Story = () => {
                const [selectedIndex, setSelectedIndex] = React.useState(1);
                return (
                    <SplitButton
                        variant={"contained"}
                        color={"secondary"}
                        selectedIndex={selectedIndex}
                        onSelectIndex={(index) => {
                            setSelectedIndex(index);
                        }}
                    >
                        <Button
                            onClick={() => {
                                alert("primary clicked");
                            }}
                        >
                            Primary Action
                        </Button>
                        <Button
                            onClick={() => {
                                alert("secondary clicked");
                            }}
                        >
                            Secondary Action
                        </Button>
                    </SplitButton>
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>

## LocalStorage / Session Storage Index Split Button

<Canvas>
    <Story name="Local Storage Index Split Button">
        <SplitButton variant={"contained"} color={"secondary"} localStorageKey={"StorylocalStorageIndexSplitButton"}>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Local Storage - Primary Action
            </Button>
            <Button
                onClick={() => {
                    alert("secondary clicked");
                }}
            >
                Local Storage - Secondary Action
            </Button>
            <Button
                onClick={() => {
                    alert("tertiary clicked");
                }}
            >
                Local Storage - Tertiary Action
            </Button>
        </SplitButton>
    </Story>
    <Story name="Session Storage Index Split Button">
        <SplitButton
            localStorageKey={"StorySessionStorageIndexSplitButton"}
            storage={window.sessionStorage}
            variant={"contained"}
            color={"secondary"}
        >
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Session Storage - Primary Action
            </Button>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Session Storage - Secondary Action
            </Button>
            <Button
                onClick={() => {
                    alert("tertiary clicked");
                }}
            >
                Session Storage - Tertiary Action
            </Button>
        </SplitButton>
    </Story>
</Canvas>

## One Child

with only one Child the `SplitButton` automatically hides Split Button Selector, but it can be enabled by manually setting the `showSelectButton={true}`s

<Canvas>
    <Story name="one button">
        <SplitButton variant={"contained"} color={"primary"}>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
        </SplitButton>
    </Story>
    <Story name="one button with select">
        <SplitButton showSelectButton={true} variant={"contained"} color={"primary"}>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
        </SplitButton>
    </Story>
    <Story name="disabled">
        <SplitButton disabled={true} variant={"contained"} color={"primary"}>
            <Button
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
        </SplitButton>
    </Story>
</Canvas>

### Color Change

<Canvas>
    <Story name="Color Change">
        <SplitButton variant={"contained"}>
            <Button
                color={"primary"}
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
            <Button
                color={"secondary"}
                onClick={() => {
                    alert("secondary clicked");
                }}
            >
                Secondary Action
            </Button>
            <Button
                onClick={() => {
                    alert("tertiary clicked");
                }}
            >
                Tertiary Action
            </Button>
        </SplitButton>
    </Story>
</Canvas>

### Variant Change

<Canvas>
    <Story name="Variant Change">
        <SplitButton color={"primary"}>
            <Button
                variant={"contained"}
                onClick={() => {
                    alert("primary clicked");
                }}
            >
                Primary Action
            </Button>
            <Button
                variant={"outlined"}
                onClick={() => {
                    alert("secondary clicked");
                }}
            >
                Secondary Action
            </Button>
            <Button
                variant={"text"}
                onClick={() => {
                    alert("tertiary clicked");
                }}
            >
                Tertiary Action
            </Button>
        </SplitButton>
    </Story>
</Canvas>

<Canvas>
    <Story name="SplitButton - Custom Component">
        <div>
            <div style={{ marginBottom: 20 }}>
                <SplitButton>
                    <div
                        style={{ cursor: "pointer", borderBottomLeftRadius: 20, borderTopLeftRadius: 20, background: "orangered", padding: 10 }}
                        onClick={() => {
                            alert("Pressed");
                        }}
                    >
                        <Typography color={"initial"}>
                            <Home /> Home
                        </Typography>
                    </div>
                    <Button variant={"contained"} color={"primary"}>
                        Primary Action
                    </Button>
                </SplitButton>
            </div>
            <div>
                <SplitButton>
                    <div
                        style={{ cursor: "pointer", background: "teal", padding: 10 }}
                        onClick={() => {
                            alert("Pressed");
                        }}
                    >
                        <Typography color={"initial"}>
                            <Home /> Home
                        </Typography>
                    </div>
                    <Button variant={"contained"} color={"primary"}>
                        Primary Action
                    </Button>
                </SplitButton>
            </div>
        </div>
    </Story>
</Canvas>
