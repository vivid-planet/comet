import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import { SaveSplitButton } from "@comet/admin";
import { Button, Typography } from "@material-ui/core";

# Components

<Meta title="Docs/@comet/admin/savesplitbutton" />

## Save / Save and go Back Split Button

<Canvas>
    <Story name="Save / Save and go back">
        {() => {
            const Story = () => {
                const [saving, setSaving] = React.useState(false);
                return (
                    <SaveSplitButton
                        localStorageKey={"Page1.SaveSplitButton"}
                        saving={saving}
                        onSavePressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                        onSaveAndGoBackPressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                    />
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>

### Save / Save and go Back - Error

<Canvas>
    <Story name="Save / Save and go back - Error">
        {() => {
            const Story = () => {
                const [saving, setSaving] = React.useState(false);
                const [error, settError] = React.useState(false);
                return (
                    <SaveSplitButton
                        localStorageKey={"Page2.SaveSplitButton"}
                        saving={saving}
                        hasErrors={error}
                        onSavePressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                                settError(true);
                            }, 1000);
                        }}
                        onSaveAndGoBackPressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                                settError(true);
                            }, 1000);
                        }}
                    />
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>

## Save Button

<Canvas>
    <Story name="Save">
        {() => {
            const Story = () => {
                const [saving, setSaving] = React.useState(false);
                return (
                    <SaveSplitButton
                        localStorageKey={"Page3.SaveSplitButton"}
                        saving={saving}
                        onSavePressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                    />
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>

### Save and go Back Button

<Canvas>
    <Story name="Save and go back">
        {() => {
            const Story = () => {
                const [saving, setSaving] = React.useState(false);
                return (
                    <SaveSplitButton
                        localStorageKey={"Page4.SaveSplitButton"}
                        saving={saving}
                        onSaveAndGoBackPressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                    />
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>

## Extending Save Split Button

<Canvas>
    <Story name="Extending Save Split Button">
        {() => {
            const Story = () => {
                const [saving, setSaving] = React.useState(false);
                return (
                    <SaveSplitButton
                        localStorageKey={"Page5.SaveSplitButton"}
                        saving={saving}
                        onSavePressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                        onSaveAndGoBackPressed={() => {
                            // simulating saving process
                            setSaving(true);
                            setTimeout(() => {
                                setSaving(false);
                            }, 1000);
                        }}
                    >
                        <Button
                            variant={"contained"}
                            color={"primary"}
                            onClick={() => {
                                alert("Extended Action clicked");
                            }}
                        >
                            Extended Action
                        </Button>
                    </SaveSplitButton>
                );
            };
            return <Story />;
        }}
    </Story>
</Canvas>
